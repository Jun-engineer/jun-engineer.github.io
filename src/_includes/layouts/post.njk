---
layout: layouts/base.njk
---
{% set langValue = lang | default('en') %}
{% if page.url and (page.url | slice(0, 4)) == '/ja/' %}
  {% set langValue = 'ja' %}
{% endif %}
{% set isEnglish = langValue == 'en' %}
{% set homeHref = '/index.html' %}
{% set contactHref = '/index.html#contact' %}
{% if isEnglish %}
  {% set portfolioHref = '/en/portfolio/' %}
  {% set blogHref = '/en/blog/' %}
  {% set sectionsLabel = 'Sections' %}
  {% set overviewLabel = 'Overview' %}
  {% set contentLabel = 'Content' %}
  {% set pagesLabel = 'Pages' %}
  {% set portfolioLabel = 'Portfolio' %}
  {% set blogLabel = 'Blog' %}
  {% set contactLabel = 'Contact' %}
  {% set languageLabel = 'Language' %}
  {% set publishedLabel = 'Published' %}
  {% set backToBlog = 'Back to blog' %}
  {% set dateFormat = 'MMM d, yyyy' %}
{% else %}
  {% set portfolioHref = '/ja/portfolio/' %}
  {% set blogHref = '/ja/blog/' %}
  {% set sectionsLabel = 'セクション' %}
  {% set overviewLabel = '概要' %}
  {% set contentLabel = '本文' %}
  {% set pagesLabel = 'ページ' %}
  {% set portfolioLabel = 'ポートフォリオ' %}
  {% set blogLabel = 'ブログ' %}
  {% set contactLabel = 'お問い合わせ' %}
  {% set languageLabel = '言語' %}
  {% set publishedLabel = '公開日' %}
  {% set backToBlog = 'ブログ一覧へ戻る' %}
  {% set dateFormat = 'yyyy年MM月dd日' %}
{% endif %}
{% set slug = page.fileSlug %}
{% set languageEnHref = '/en/blog/' %}
{% set languageJaHref = '/ja/blog/' %}
{% if slug %}
  {% set languageEnHref = '/en/blog/' + slug + '/' %}
  {% set languageJaHref = '/ja/blog/' + slug + '/' %}
{% endif %}
{% set formattedDate = page.date | date(dateFormat) %}
<header class="site-header">
  <div class="container nav-shell">
    <a class="brand-mark" href="{{ homeHref }}">{% if isEnglish %}Jun Nammoku{% else %}南木 潤{% endif %}</a>
    <nav class="nav-group" aria-label="Primary">
      <button class="nav-toggle" type="button" data-nav-toggle aria-expanded="false" aria-controls="post-navigation">
        <span class="nav-toggle-label">{% if isEnglish %}Menu{% else %}メニュー{% endif %}</span>
        <i class="fa-solid fa-bars" aria-hidden="true"></i>
      </button>
      <div class="nav-links" id="post-navigation" data-nav-menu>
        <div class="nav-links-group" aria-label="{{ sectionsLabel }}">
          <span class="nav-group-label">{{ sectionsLabel }}</span>
          <a href="#article-hero">{{ overviewLabel }}</a>
          <a href="#content">{{ contentLabel }}</a>
        </div>
        <span class="nav-divider" aria-hidden="true"></span>
        <div class="nav-links-group" aria-label="{{ pagesLabel }}">
          <span class="nav-group-label">{{ pagesLabel }}</span>
          <a href="{{ portfolioHref }}">{{ portfolioLabel }}</a>
          <a href="{{ blogHref }}">{{ blogLabel }}</a>
          <a href="{{ contactHref }}">{{ contactLabel }}</a>
        </div>
        <div class="nav-language" aria-label="{{ languageLabel }}">
          <span class="nav-language-label">{{ languageLabel }}</span>
          <div class="nav-language-options">
            <a class="nav-language-link{% if isEnglish %} is-active{% endif %}" href="{{ languageEnHref }}"{% if isEnglish %} aria-current="page"{% endif %}>EN</a>
            <a class="nav-language-link{% if not isEnglish %} is-active{% endif %}" href="{{ languageJaHref }}"{% if not isEnglish %} aria-current="page"{% endif %}>JA</a>
          </div>
        </div>
      </div>
    </nav>
  </div>
</header>

<main>
  <section class="article-hero" id="article-hero">
    <div class="container article-hero-grid">
      <div class="article-hero-copy">
        <a class="article-breadcrumb" href="{{ blogHref }}">
          <i class="fa-solid fa-arrow-left" aria-hidden="true"></i>
          <span>{{ backToBlog }}</span>
        </a>
        <p class="eyebrow">{% if isEnglish %}Tech Blog{% else %}テックブログ{% endif %}</p>
        <h1 class="article-title">{{ title }}</h1>
        {% if description %}
          <p class="article-subtitle">{{ description }}</p>
        {% endif %}
        {% if page.date %}
          <div class="article-meta">
            <span class="meta-chip">
              <i class="fa-solid fa-calendar-days" aria-hidden="true"></i>
              {{ publishedLabel }}: {{ formattedDate }}
            </span>
          </div>
        {% endif %}
        {% if tags and tags.length %}
          <ul class="article-tags" role="list">
            {% for tag in tags %}
              {% if tag not in ['post', 'posts'] %}
                <li><span class="tag-pill">{{ tag }}</span></li>
              {% endif %}
            {% endfor %}
          </ul>
        {% endif %}
      </div>
    </div>
  </section>

  <section class="article-body" id="content">
    <div class="container article-layout">
      <article class="article-content">
        {{ content | safe }}
      </article>
    </div>
  </section>
</main>